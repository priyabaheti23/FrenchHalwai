<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>French Halwai</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Birthstone&family=Cormorant+Garamond:ital,wght@0,300;0,600;1,400&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        :root { --gold: #7a4900; --cream: #fdfbf7; --header-bg: #f4f1ea; }
        body { font-family: 'Montserrat', sans-serif; background-color: var(--cream); color: #333; scroll-behavior: smooth; }
        .font-script { font-family: 'Birthstone', cursive; }
        .gold-text { color: var(--gold); }
        .btn-luxury { background: var(--gold); color: white; transition: all 0.3s ease; letter-spacing: 2px; font-weight: 600; padding: 12px 24px; text-transform: uppercase; font-size: 10px; }
        .btn-luxury:hover { background: #b38f4d; }
        
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(8px); z-index: 100; overflow-y: auto; }
        
        .qty-control { display: flex; align-items: center; gap: 12px; border: 1px solid #ddd; padding: 4px 12px; background: white; }
        .qty-btn { font-weight: bold; font-size: 18px; color: var(--gold); cursor: pointer; user-select: none; }
        
        input, select, textarea { border: 1px solid #ddd !important; padding: 12px !important; border-radius: 2px !important; width: 100%; font-size: 14px; background: white; transition: all 0.2s; }
        
        input:focus:invalid { border-color: #ef4444 !important; outline: none; }
        input:focus:valid { border-color: #10b981 !important; outline: none; }

        .delete-icon { cursor: pointer; color: #ccc; transition: color 0.2s; }
        .delete-icon:hover { color: #ef4444; }

        .fixed-cart { position: fixed; bottom: 30px; right: 30px; z-index: 90; display: none; }

        .field-label { display: block; font-size: 10px; font-weight: 600; text-transform: uppercase; color: var(--gold); margin-bottom: 4px; margin-top: 12px; }
        
        /* Updated Copy UI */
        .copy-trigger { cursor: pointer; display: inline-flex; align-items: center; gap: 4px; font-size: 10px; background: #eee; padding: 4px 8px; border-radius: 3px; margin-left: 8px; vertical-align: middle; position: relative; }
        .copy-tooltip { position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); background: #333; color: white; padding: 4px 8px; border-radius: 4px; font-size: 9px; opacity: 0; transition: opacity 0.3s; pointer-events: none; }
        .copy-tooltip.show { opacity: 1; }
    </style>
</head>
<body>

    <div class="bg-stone-800 text-white text-[10px] tracking-[0.4em] py-2 text-center uppercase">
        Limited Edition Preorders
    </div>

    <header class="border-b border-stone-200 bg-[#f4f1ea] sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-left">
                    <h1 class="text-5xl md:text-6xl font-script gold-text leading-tight -mb-2">French Halwai</h1>
                    <p class="text-[8px] md:text-[10px] uppercase tracking-[0.3em] text-stone-400 opacity-80">Artisanal Patisserie</p>
            </div>
            <button onclick="openCart()" class="flex items-center gap-2 border-b border-gold pb-1">
                <span class="text-xs font-bold uppercase tracking-widest">Bag</span>
                <span id="bagCount" class="gold-text font-bold">0</span>
            </button>
        </div>
    </header>

    <section class="py-16 text-center bg-white">
        <h2 class="text-5xl md:text-7xl font-serif italic mb-4 gold-text">La Vie En Rose</h2>
        <p class="text-stone-500 font-light italic text-sm">Special edition boxes for your favorite ones. Preorders have started.</p>
    </section>

    <section class="max-w-6xl mx-auto px-6 py-12 grid md:grid-cols-2 gap-12">
        <div class="bg-white p-8 text-center border border-stone-100 shadow-sm relative">
            <img src="assets/box_of_4.jpeg" alt="Box of 4 Luxury Madeleines" class="w-full h-64 object-cover mb-6">
            <h3 class="text-2xl font-serif italic mb-1">The Petit Box</h3>
            <div class="flex items-center justify-center mb-4 gap-1">
                <span class="text-yellow-500 font-bold text-lg leading-none">*</span>
                <span class="text-[10px] uppercase text-stone-400 font-bold">Contains Egg</span>
            </div>
            <p class="text-xs text-stone-500 mb-6 leading-relaxed">
                <strong>Flavors:</strong> Dark Chocolate & Orange *2, Pistachio & white chocolate *2.
            </p>
            <div class="text-left bg-stone-50 p-4 mb-8 text-[11px] rounded leading-loose">
                <p><strong>Allergens:</strong> Dairy, Gluten, Nuts, Eggs, Citrus.</p>
            </div>
            <div class="flex justify-between items-center border-t pt-6 mt-6">
                <span class="text-xl font-light gold-text">₹749</span>
                <div id="main-qty-pack4" class="flex items-center gap-3">
                    <button onclick="addToCart('pack4')" class="btn-luxury">Add to Bag</button>
                </div>
            </div>
        </div>

        <div class="bg-white p-8 text-center border border-stone-100 shadow-sm relative">
            <img src="assets/box_of_6.jpeg" alt="Box of 6 Luxury Madeleines" class="w-full h-64 object-cover mb-6">
            <h3 class="text-2xl font-serif italic mb-1">The Soiree Box</h3>
            <div class="flex items-center justify-center mb-4 gap-1">
                <span class="text-yellow-500 font-bold text-lg leading-none">*</span>
                <span class="text-[10px] uppercase text-stone-400 font-bold">Contains Egg</span>
            </div>
            <p class="text-xs text-stone-500 mb-6 leading-relaxed">
                <strong>Flavors:</strong> Dark Chocolate & Orange *2, Pistachio & White Chocolate *2, White Chocolate & Lemon *2.
            </p>
            <div class="text-left bg-stone-50 p-4 mb-8 text-[11px] rounded leading-loose">
                <p><strong>Allergens:</strong> Dairy, Gluten, Nuts, Eggs, Citrus.</p>
            </div>
            <div class="flex justify-between items-center border-t pt-6 mt-6">
                <span class="text-xl font-light gold-text">₹999</span>
                <div id="main-qty-pack6" class="flex items-center gap-3">
                    <button onclick="addToCart('pack6')" class="btn-luxury">Add to Bag</button>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 bg-stone-900 text-white">
        <div class="max-w-4xl mx-auto px-6 flex flex-col md:flex-row items-center gap-12 text-center md:text-left">
            <img src="assets/chef-kiran.jpg" alt="Chef Kiran Motwani" class="w-48 h-48 rounded-full object-cover border-2 border-gold p-1">
            <div>
                <h4 class="text-3xl font-serif italic mb-4 gold-text">Chef Kiran Motwani</h4>
                <p class="text-stone-400 text-sm mb-6 leading-relaxed">Trained at Le Cordon Bleu Paris, Chef Kiran Motwani honed her craft in Michelin-starred kitchens and elite Parisian patisseries. She believes the classic French madeleine is an underrated masterpiece and she is on a mission to redefine it for the Indian palate.
Through French Halwai, she brings an uncompromising standard of elegance and luxury to every hand-dipped shell.</p>
                <div class="flex justify-center md:justify-start gap-6">
                    <a href="https://instagram.com/frenchhalwai" target="_blank" class="hover:text-gold transition">
                        <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073z"/></svg>
                    </a>
                    <a href="https://x.com/frenchhalwai" target="_blank" class="hover:text-gold transition">
                        <svg class="w-6 h-6 fill-current" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <footer class="py-16 bg-white border-t border-stone-100 text-center">
        <h1 class="text-xl font-serif font-bold gold-text">FRENCH HALWAI</h1>
        <div class="my-8">
            <p class="text-sm font-light text-stone-600 mb-4">If you have any questions, feel free to reach us out at:</p>
            <a href="https://wa.me/917218132167" target="_blank" class="inline-block hover:scale-110 transition">
                <svg class="w-10 h-10 fill-[#25D366]" viewBox="0 0 24 24"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L0 24l6.335-1.662c1.72.937 3.659 1.432 5.628 1.433h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/></svg>
            </a>
        </div>
    </footer>

    <div id="floatingCart" class="fixed-cart">
        <button onclick="openCart()" class="btn-luxury rounded-full flex items-center gap-3 shadow-2xl">
            <span class="text-xs uppercase tracking-widest">Complete Preorder</span>
            <span id="floatCount" class="bg-white gold-text px-2 py-0.5 rounded-full text-[10px] font-bold">0</span>
        </button>
    </div>

    <div id="checkoutModal" class="modal-overlay">
        <div class="max-w-2xl mx-auto bg-white my-8 p-8 md:p-12 shadow-2xl relative rounded-sm">
            <button onclick="closeCart()" class="absolute top-6 right-6 text-stone-400 hover:text-black">✕</button>
            <h3 class="text-3xl font-serif italic gold-text mb-8">Your Order Summary</h3>

            <div id="modalItems" class="mb-10 space-y-4"></div>

            <form id="orderForm" class="space-y-6">
                <div class="space-y-4">
                    <p class="text-[10px] font-bold uppercase gold-text">1. Sender Information</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="field-label">Sender Name *</label>
                            <input type="text" name="sender_name" placeholder="Name" required minlength="2">
                        </div>
                        <div>
                            <label class="field-label">Sender WhatsApp Number *</label>
                            <input type="tel" name="sender_phone" placeholder="10 Digits" required pattern="[0-9]{10}">
                        </div>
                    </div>
                    <div class="flex items-center gap-2 bg-stone-50 p-3 rounded">
                        <input type="checkbox" id="anonCheck" class="w-4 h-4">
                        <label for="anonCheck" class="text-xs gold-text font-bold">Send Anonymously to Receiver</label>
                    </div>
                </div>

                <div class="space-y-4">
                    <p class="text-[10px] font-bold uppercase gold-text">2. Receiver Information</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="field-label">Receiver Name *</label>
                            <input type="text" name="receiver_name" placeholder="Name" required>
                        </div>
                        <div>
                            <label class="field-label">Receiver Phone *</label>
                            <input type="tel" name="receiver_phone" placeholder="10 Digits" required pattern="[0-9]{10}">
                        </div>
                    </div>
                    <div class="flex items-center gap-2 bg-stone-50 p-3 rounded">
                        <input type="checkbox" id="surpriseCheck" class="w-4 h-4">
                        <label for="surpriseCheck" class="text-xs gold-text font-bold">This is a surprise! (We will not contact receiver)</label>
                    </div>
                </div>

                <div class="space-y-4">
                    <p class="text-[10px] font-bold uppercase gold-text">3. Fulfillment Details</p>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div>
                            <label class="field-label">Method *</label>
                            <select id="methodSelect" onchange="updateUI()" required>
                                <option value="pickup">Pickup (Koramangala 4th Block)</option>
                                <option value="delivery">Delivery (Bengaluru)</option>
                            </select>
                        </div>
                        <div>
                            <label class="field-label">Time Slot *</label>
                            <select name="slot" required>
                                <option value="">Select Time Slot *</option>
                                <option value="13th Feb | 3pm-5pm">13th Feb | 3pm - 5pm</option>
                                <option value="14th Feb | 11am-1pm">14th Feb | 11am - 1pm</option>
                            </select>
                        </div>
                    </div>
                    <div id="deliveryFields" class="hidden space-y-4">
                        <label class="field-label">Delivery Zone</label>
                        <select id="zoneSelect" onchange="updateUI()">
                            <option value="koramangala">Koramangala Zone (Free)</option>
                            <option value="outside">Outside Koramangala (+₹100)</option>
                        </select>
                        <label class="field-label">Full Address *</label>
                        <textarea name="address" id="addrInput" placeholder="Full Address for Delivery"></textarea>
                    </div>
                </div>

                <div>
                    <label class="field-label">Valentine Message</label>
                    <textarea name="message" maxlength="250" placeholder="Max 250 characters"></textarea>
                </div>

                <div class="bg-stone-50 p-6 border-t-2 border-gold text-center">
                    <div class="flex justify-between font-bold text-xl mb-6">
                        <span>Total Payable:</span>
                        <span id="finalT" class="gold-text">₹0</span>
                    </div>
                    <img src="assets/payment-qr.jpeg" alt="Payment QR Code" class="mx-auto mb-4 border p-1 bg-white w-40 h-40 object-contain">
                    <p class="text-xs font-mono mb-6">
                        UPI ID: baheti.priya@yescred 
                        <span class="copy-trigger" onclick="copyUPI()">
                            <svg class="w-3 h-3 fill-current" viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>
                            Copy
                            <span id="copyTooltip" class="copy-tooltip">Copied!</span>
                        </span>
                    </p>
                    <button type="submit" class="btn-luxury w-full py-4 text-sm">I've Paid — Confirm Preorder</button>
                    <p class="text-[10px] text-stone-400 mt-4">*Will share the pickup location over WhatsApp</p>
                </div>
            </form>
        </div>
    </div>

    <div id="confirmModal" class="modal-overlay" style="display: none; align-items: center; justify-content: center;">
        <div class="max-w-md w-full bg-white p-10 text-center shadow-2xl rounded-sm mx-4">
            <div class="w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-6">
                <svg class="w-8 h-8 gold-text" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
            </div>
            <h3 class="text-3xl font-serif italic gold-text mb-4">Merci Beaucoup!</h3>
            <p class="text-stone-500 text-sm mb-8 leading-relaxed">Your order confirmation has been sent. We will verify payment and WhatsApp you shortly with the details.</p>
            <button onclick="location.reload()" class="btn-luxury w-full">Close & Return</button>
        </div>
    </div>

    <script>
        let cart = { pack4: 0, pack6: 0 };
        const prices = { pack4: 749, pack6: 999 };

        function addToCart(id) {
            cart[id]++;
            updateUI();
        }

        function removeFromCart(id) {
            if(cart[id] > 0) cart[id]--;
            updateUI();
        }

        function copyUPI() {
            navigator.clipboard.writeText("baheti.priya@yescred");
            const tip = document.getElementById('copyTooltip');
            tip.classList.add('show');
            setTimeout(() => tip.classList.remove('show'), 2000);
        }

        function updateUI() {
            ['pack4', 'pack6'].forEach(id => {
                const container = document.getElementById(`main-qty-${id}`);
                if (cart[id] > 0) {
                    container.innerHTML = `
                        <div class="flex items-center gap-3">
                            <svg onclick="cart['${id}']=0; updateUI()" class="delete-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            <div class="qty-control">
                                <span class="qty-btn" onclick="removeFromCart('${id}')">−</span>
                                <span class="font-bold">${cart[id]}</span>
                                <span class="qty-btn" onclick="addToCart('${id}')">+</span>
                            </div>
                        </div>`;
                } else {
                    container.innerHTML = `<button onclick="addToCart('${id}')" class="btn-luxury">Add to Bag</button>`;
                }
            });

            const total = cart.pack4 + cart.pack6;
            document.getElementById('bagCount').innerText = total;
            document.getElementById('floatCount').innerText = total;
            document.getElementById('floatingCart').style.display = total > 0 ? 'block' : 'none';

            const isDel = document.getElementById('methodSelect').value === 'delivery';
            document.getElementById('deliveryFields').classList.toggle('hidden', !isDel);
            document.getElementById('addrInput').required = isDel;

            const sub = (cart.pack4 * prices.pack4) + (cart.pack6 * prices.pack6);
            const del = (isDel && document.getElementById('zoneSelect').value === 'outside') ? 100 : 0;
            document.getElementById('finalT').innerText = '₹' + (sub + del);

            if(document.getElementById('checkoutModal').style.display === 'block') renderModalItems();
        }

        function renderModalItems() {
            let h = '';
            for (let id in cart) {
                if (cart[id] > 0) {
                    h += `
                    <div class="flex justify-between items-center border-b pb-4">
                        <div class="flex items-center gap-3">
                            <svg onclick="cart['${id}']=0; updateUI()" class="delete-icon w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            <span class="font-serif italic text-lg">${id === 'pack4' ? 'Box of 4' : 'Box of 6'}</span>
                        </div>
                        <div class="qty-control">
                            <span class="qty-btn" onclick="removeFromCart('${id}')">−</span>
                            <span class="font-bold text-sm">${cart[id]}</span>
                            <span class="qty-btn" onclick="addToCart('${id}')">+</span>
                        </div>
                    </div>`;
                }
            }
            document.getElementById('modalItems').innerHTML = h;
        }

        function openCart() {
            if(cart.pack4 + cart.pack6 === 0) return alert("Bag is empty");
            document.getElementById('checkoutModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
            updateUI();
        }

        function closeCart() {
            document.getElementById('checkoutModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        document.getElementById('orderForm').onsubmit = async (e) => {
    e.preventDefault();
    
    const btn = e.target.querySelector('button[type="submit"]');
    btn.innerText = "Processing...";
    btn.disabled = true;

    // Capture the form and cart data
    const formData = new FormData(e.target);
    const orderData = {
        sender_name: formData.get('sender_name'),
        sender_phone: formData.get('sender_phone'),
        anonymous: document.getElementById('anonCheck').checked ? "Yes" : "No",
        receiver_name: formData.get('receiver_name'),
        receiver_phone: formData.get('receiver_phone'),
        surprise: document.getElementById('surpriseCheck').checked ? "Yes" : "No",
        method: document.getElementById('methodSelect').value,
        slot: formData.get('slot'),
        order_details: `Pack 4: ${cart.pack4}, Pack 6: ${cart.pack6} | Address: ${formData.get('address') || 'N/A'} | Msg: ${formData.get('message') || 'None'}`,
        total: document.getElementById('finalT').innerText
    };

    // REPLACE THIS URL WITH YOUR GOOGLE SCRIPT URL
    const scriptURL = 'https://script.google.com/macros/s/AKfycbyHQJQT8J6gb3Qr7OYV46jszIFh18_3rCvKxNjTVtaQx1pUEykViue1ztvxoIV721FD/exec';

    try {
        await fetch(scriptURL, {
            method: 'POST',
            mode: 'no-cors', // Necessary for Apps Script
            cache: 'no-cache',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(orderData)
        });
        
        document.getElementById('checkoutModal').style.display = 'none';
        document.getElementById('confirmModal').style.display = 'flex';
    } catch (error) {
        alert("Something went wrong. Please contact us on WhatsApp.");
        console.error(error);
        btn.innerText = "I've Paid — Confirm Preorder";
        btn.disabled = false;
    }
};
    </script>
</body>
</html>











